module.exports=[24883,a=>{"use strict";var b=a.i(67609),c=a.i(25186);a.i(48542);var d=a.i(7326);a.i(23549);var e=a.i(19914),f=a.i(93500);a.i(79624);var g=a.i(39570),h=a.i(59653),i=a.i(34691),j=a.i(36935),k=a.i(94414),l=a.i(38589),m=a.i(91879),n=a.i(54217),o=(a.i(56725),a.i(32264)),p=a.i(43752),q=a.i(7999),r=a.i(8269),s=a.i(16164),t=a.i(11941),u="Dialog",[v,w]=(0,j.createContextScope)(u),[x,y]=v(u),z=a=>{let{__scopeDialog:c,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!0}=a,j=d.useRef(null),m=d.useRef(null),[n,o]=(0,l.useControllableState)({prop:f,defaultProp:g??!1,onChange:h,caller:u});return(0,b.jsx)(x,{scope:c,triggerRef:j,contentRef:m,contentId:(0,k.useId)(),titleId:(0,k.useId)(),descriptionId:(0,k.useId)(),open:n,onOpenChange:o,onOpenToggle:d.useCallback(()=>o(a=>!a),[o]),modal:i,children:e})};z.displayName=u;var A="DialogTrigger";d.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=y(A,d),g=(0,i.useComposedRefs)(c,f.triggerRef);return(0,b.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":Q(f.open),...e,ref:g,onClick:(0,h.composeEventHandlers)(a.onClick,f.onOpenToggle)})}).displayName=A;var[B,C]=v("DialogPortal",{forceMount:void 0}),D="DialogOverlay",E=d.forwardRef((a,c)=>{let d=C(D,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=y(D,a.__scopeDialog);return g.modal?(0,b.jsx)(o.Presence,{present:e||g.open,children:(0,b.jsx)(G,{...f,ref:c})}):null});E.displayName=D;var F=(0,t.createSlot)("DialogOverlay.RemoveScroll"),G=d.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=y(D,d);return(0,b.jsx)(r.RemoveScroll,{as:F,allowPinchZoom:!0,shards:[f.contentRef],children:(0,b.jsx)(p.Primitive.div,{"data-state":Q(f.open),...e,ref:c,style:{pointerEvents:"auto",...e.style}})})}),H="DialogContent",I=d.forwardRef((a,c)=>{let d=C(H,a.__scopeDialog),{forceMount:e=d.forceMount,...f}=a,g=y(H,a.__scopeDialog);return(0,b.jsx)(o.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(J,{...f,ref:c}):(0,b.jsx)(K,{...f,ref:c})})});I.displayName=H;var J=d.forwardRef((a,c)=>{let e=y(H,a.__scopeDialog),f=d.useRef(null),g=(0,i.useComposedRefs)(c,e.contentRef,f);return d.useEffect(()=>{let a=f.current;if(a)return(0,s.hideOthers)(a)},[]),(0,b.jsx)(L,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,h.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),e.triggerRef.current?.focus()}),onPointerDownOutside:(0,h.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,h.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),K=d.forwardRef((a,c)=>{let e=y(H,a.__scopeDialog),f=d.useRef(!1),g=d.useRef(!1);return(0,b.jsx)(L,{...a,ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),L=d.forwardRef((a,c)=>{let{__scopeDialog:e,trapFocus:f,onOpenAutoFocus:g,onCloseAutoFocus:h,...j}=a,k=y(H,e),l=d.useRef(null),o=(0,i.useComposedRefs)(c,l);return(0,q.useFocusGuards)(),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.FocusScope,{asChild:!0,loop:!0,trapped:f,onMountAutoFocus:g,onUnmountAutoFocus:h,children:(0,b.jsx)(m.DismissableLayer,{role:"dialog",id:k.contentId,"aria-describedby":k.descriptionId,"aria-labelledby":k.titleId,"data-state":Q(k.open),...j,ref:o,onDismiss:()=>k.onOpenChange(!1)})}),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(U,{titleId:k.titleId}),(0,b.jsx)(V,{contentRef:l,descriptionId:k.descriptionId})]})]})}),M="DialogTitle",N=d.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=y(M,d);return(0,b.jsx)(p.Primitive.h2,{id:f.titleId,...e,ref:c})});N.displayName=M;var O="DialogDescription";d.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=y(O,d);return(0,b.jsx)(p.Primitive.p,{id:f.descriptionId,...e,ref:c})}).displayName=O;var P="DialogClose";function Q(a){return a?"open":"closed"}d.forwardRef((a,c)=>{let{__scopeDialog:d,...e}=a,f=y(P,d);return(0,b.jsx)(p.Primitive.button,{type:"button",...e,ref:c,onClick:(0,h.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=P;var R="DialogTitleWarning",[S,T]=(0,j.createContext)(R,{contentName:H,titleName:M,docsSlug:"dialog"}),U=({titleId:a})=>{let b=T(R),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return d.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},V=({contentRef:a,descriptionId:b})=>{let c=T("DialogDescriptionWarning"),e=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return d.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(e))},[e,a,b]),null},W=a.i(42261),X=a.i(94772);a.i(79173);var Y=a.i(9096),Z=a.i(62876),$=a.i(20206);let _=(0,d.createContext)(null),aa=(0,d.createContext)(null),ab=(0,d.createContext)(null);function ac({open:a,onOpenChange:c,search:e,onSearchChange:f,isLoading:g=!1,children:h}){let[i,j]=(0,d.useState)(null);return(0,b.jsx)(z,{open:a,onOpenChange:c,children:(0,b.jsx)(_.Provider,{value:(0,d.useMemo)(()=>({open:a,onOpenChange:c,search:e,onSearchChange:f,active:i,setActive:j,isLoading:g}),[i,g,c,f,a,e]),children:h})})}function ad(a){return(0,b.jsx)("div",{...a,className:(0,g.cn)("flex flex-row items-center gap-2 p-3",a.className)})}function ae(a){let{text:c}=(0,e.useI18n)(),{search:d,onSearchChange:f}=aq();return(0,b.jsx)("input",{...a,value:d,onChange:a=>f(a.target.value),placeholder:c.search,className:"w-0 flex-1 bg-transparent text-lg placeholder:text-fd-muted-foreground focus-visible:outline-none"})}function af({children:a="ESC",className:c,...d}){let{onOpenChange:e}=aq();return(0,b.jsx)("button",{type:"button",onClick:()=>e(!1),className:(0,g.cn)((0,$.buttonVariants)({color:"outline",size:"sm",className:"font-mono text-fd-muted-foreground"}),c),...d,children:a})}function ag(a){return(0,b.jsx)("div",{...a,className:(0,g.cn)("bg-fd-secondary/50 p-3 empty:hidden",a.className)})}function ah(a){return(0,b.jsx)(E,{...a,className:(0,g.cn)("fixed inset-0 z-50 backdrop-blur-xs data-[state=open]:animate-fd-fade-in data-[state=closed]:animate-fd-fade-out",a.className)})}function ai({children:a,...c}){let{text:d}=(0,e.useI18n)();return(0,b.jsxs)(I,{"aria-describedby":void 0,...c,className:(0,g.cn)("fixed left-1/2 top-4 md:top-[calc(50%-250px)] z-50 w-[calc(100%-1rem)] max-w-screen-sm -translate-x-1/2 rounded-xl border bg-fd-popover text-fd-popover-foreground shadow-2xl shadow-black/50 overflow-hidden data-[state=closed]:animate-fd-dialog-out data-[state=open]:animate-fd-dialog-in","*:border-b *:has-[+:last-child[data-empty=true]]:border-b-0 *:data-[empty=true]:border-b-0 *:last:border-b-0",c.className),children:[(0,b.jsx)(N,{className:"hidden",children:d.search}),a]})}function aj({items:a=null,Empty:f=()=>(0,b.jsx)("div",{className:"py-12 text-center text-sm text-fd-muted-foreground",children:(0,b.jsx)(e.I18nLabel,{label:"searchNoResult"})}),Item:h=a=>(0,b.jsx)(ak,{...a}),...i}){let j=(0,d.useRef)(null),[k,l]=(0,d.useState)(()=>a&&a.length>0?a[0].id:null),{onOpenChange:m}=aq(),n=(0,Y.useRouter)(),o=a=>{"action"===a.type?a.onSelect():a.external?window.open(a.url,"_blank")?.focus():n.push(a.url),m(!1)},p=(0,X.useEffectEvent)(b=>{if(a&&!b.isComposing){if("ArrowDown"===b.key||"ArrowUp"==b.key){let c=a.findIndex(a=>a.id===k);-1===c?c=0:"ArrowDown"===b.key?c++:c--,l(a.at(c%a.length)?.id??null),b.preventDefault()}if("Enter"===b.key){let c=a.find(a=>a.id===k);c&&o(c),b.preventDefault()}}});return(0,d.useEffect)(()=>{let a=j.current;if(!a)return;let b=new ResizeObserver(()=>{let b=a.firstElementChild;a.style.setProperty("--fd-animated-height",`${b.clientHeight}px`)}),c=a.firstElementChild;return c&&b.observe(c),window.addEventListener("keydown",p),()=>{b.disconnect(),window.removeEventListener("keydown",p)}},[]),(0,c.useOnChange)(a,()=>{a&&a.length>0&&l(a[0].id)}),(0,b.jsx)("div",{...i,ref:j,"data-empty":null===a,className:(0,g.cn)("overflow-hidden h-(--fd-animated-height) transition-[height]",i.className),children:(0,b.jsx)("div",{className:(0,g.cn)("w-full flex flex-col overflow-y-auto max-h-[460px] p-1",!a&&"hidden"),children:(0,b.jsxs)(aa.Provider,{value:(0,d.useMemo)(()=>({active:k,setActive:l}),[k]),children:[a?.length===0&&f(),a?.map(a=>(0,b.jsx)(d.Fragment,{children:h({item:a,onClick:()=>o(a)})},a.id))]})})})}function ak({item:a,className:c,children:e,renderHighlights:h=ap,...i}){let{active:j,setActive:k}=function(){let a=(0,d.useContext)(aa);if(!a)throw Error("Missing <SearchDialogList />");return a}(),l=a.id===j;return"action"===a.type?e??(e=a.node):e??(e=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"inline-flex items-center text-fd-muted-foreground text-xs empty:hidden",children:a.breadcrumbs?.map((a,c)=>(0,b.jsxs)(d.Fragment,{children:[c>0&&(0,b.jsx)(f.ChevronRight,{className:"size-4"}),a]},c))}),"page"!==a.type&&(0,b.jsx)("div",{role:"none",className:"absolute start-3 inset-y-0 w-px bg-fd-border"}),(0,b.jsxs)("p",{className:(0,g.cn)("min-w-0 truncate","page"!==a.type&&"ps-4","page"===a.type||"heading"===a.type?"font-medium":"text-fd-popover-foreground/80"),children:["heading"===a.type&&(0,b.jsx)(f.Hash,{className:"inline me-1 size-4 text-fd-muted-foreground"}),a.contentWithHighlights?h(a.contentWithHighlights):a.content]})]})),(0,b.jsx)("button",{type:"button",ref:(0,d.useCallback)(a=>{l&&a&&(0,Z.default)(a,{scrollMode:"if-needed",block:"nearest",boundary:a.parentElement})},[l]),"aria-selected":l,className:(0,g.cn)("relative select-none px-2.5 py-2 text-start text-sm rounded-lg",l&&"bg-fd-accent text-fd-accent-foreground",c),onPointerMove:()=>k(a.id),...i,children:e})}function al(a){let{isLoading:c}=aq();return(0,b.jsx)(f.Search,{...a,className:(0,g.cn)("size-5 text-fd-muted-foreground",c&&"animate-pulse duration-400",a.className)})}let am=(0,W.cva)("rounded-md border px-2 py-0.5 text-xs font-medium text-fd-muted-foreground transition-colors",{variants:{active:{true:"bg-fd-accent text-fd-accent-foreground"}}});function an({tag:a,onTagChange:c,allowClear:e=!1,...f}){return(0,b.jsx)("div",{...f,className:(0,g.cn)("flex items-center gap-1 flex-wrap",f.className),children:(0,b.jsx)(ab.Provider,{value:(0,d.useMemo)(()=>({value:a,onValueChange:c,allowClear:e}),[e,c,a]),children:f.children})})}function ao({value:a,className:c,...e}){let{onValueChange:f,value:h,allowClear:i}=function(){let a=(0,d.useContext)(ab);if(!a)throw Error("Missing <TagsList />");return a}(),j=a===h;return(0,b.jsx)("button",{type:"button","data-active":j,className:(0,g.cn)(am({active:j,className:c})),onClick:()=>{f(j&&i?void 0:a)},tabIndex:-1,...e,children:e.children})}function ap(a){return a.map((a,c)=>a.styles?.highlight?(0,b.jsx)("span",{className:"text-fd-primary underline",children:a.content},c):(0,b.jsx)(d.Fragment,{children:a.content},c))}function aq(){let a=(0,d.useContext)(_);if(!a)throw Error("Missing <SearchDialog />");return a}function ar({defaultTag:f,tags:g=[],api:h,delayMs:i,type:j="fetch",allowClear:k=!1,links:l=[],footer:m,...n}){let{locale:o}=(0,e.useI18n)(),[p,q]=(0,d.useState)(f),{search:r,setSearch:s,query:t}=function(b,e,f,g=100,h=!1,i){let{delayMs:j=g??100,allowEmpty:k=h??!1,...l}=b;l.tag??=void 0,l.locale??=void 0;let[m,n]=(0,d.useState)(""),[o,p]=(0,d.useState)("empty"),[q,r]=(0,d.useState)(),[s,t]=(0,d.useState)(!1),u=function(a,b=1e3){let[c,e]=(0,d.useState)(a),f=(0,d.useRef)(void 0);if(0===b)return a;if(a!==c&&f.current?.value!==a){f.current&&clearTimeout(f.current.handler);let c=window.setTimeout(()=>{e(a)},b);f.current={value:a,handler:c}}return c}(m,j),v=(0,d.useRef)(void 0);return(0,c.useOnChange)([l,u],()=>{v.current&&(v.current(),v.current=void 0),t(!0);let b=!1;v.current=()=>{b=!0},(async function(){if(0===u.length&&!k)return"empty";if("fetch"===l.type){let{fetchDocs:b}=await a.A(36353);return b(u,l)}if("algolia"===l.type){let{searchDocs:b}=await a.A(57844);return b(u,l)}if("orama-cloud"===l.type){let{searchDocs:b}=await a.A(38127);return b(u,l)}if("static"===l.type){let{search:b}=await a.A(65799);return b(u,l)}if("mixedbread"===l.type){let{search:b}=await a.A(25354);return b(u,l)}throw Error("unknown search client")})().then(a=>{b||(r(void 0),p(a))}).catch(a=>{r(a)}).finally(()=>{t(!1)})},function a(b,c){if(Array.isArray(b)&&Array.isArray(c))return c.length!==b.length||b.some((b,d)=>a(b,c[d]));if("object"==typeof b&&b&&"object"==typeof c&&c){let d=Object.keys(b),e=Object.keys(c);return d.length!==e.length||d.some(d=>a(b[d],c[d]))}return b!==c}),{search:m,setSearch:n,query:{isLoading:s,data:o,error:q}}}("fetch"===j?{type:"fetch",api:h,locale:o,tag:p,delayMs:i}:{type:"static",from:h,locale:o,tag:p,delayMs:i}),u=(0,d.useMemo)(()=>0===l.length?null:l.map(([a,b])=>({type:"page",id:a,content:a,url:b})),[l]);return(0,c.useOnChange)(f,a=>{q(a)}),(0,b.jsxs)(ac,{search:r,onSearchChange:s,isLoading:t.isLoading,...n,children:[(0,b.jsx)(ah,{}),(0,b.jsxs)(ai,{children:[(0,b.jsxs)(ad,{children:[(0,b.jsx)(al,{}),(0,b.jsx)(ae,{}),(0,b.jsx)(af,{})]}),(0,b.jsx)(aj,{items:"empty"!==t.data?t.data:u})]}),(0,b.jsxs)(ag,{children:[g.length>0&&(0,b.jsx)(an,{tag:p,onTagChange:q,allowClear:k,children:g.map(a=>(0,b.jsx)(ao,{value:a.value,children:a.name},a.value))}),m]})]})}a.s(["default",()=>ar],24883)}];

//# sourceMappingURL=237b6_fumadocs-ui_dist_components_dialog_search-default_24d28d27.js.map